<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rive Animations</title>
  <script src="https://unpkg.com/@vue/runtime-dom"></script>
  <script src="https://unpkg.com/@rive-app/canvas@latest"></script>
  <style>
    /* CSS 스타일은 위와 동일하게 유지 */
  </style>
</head>
<body>
  <div id="app"></div>
  <script>
    const riveFiles = [
      { name: 'bg_wave.riv', canvasId: 'riveCanvas1', stateMachine: 'State Machine 1' },
      { name: 'icon.recording.riv', canvasId: 'riveCanvas2', stateMachine: undefined },
      { name: 'Reason01.riv', canvasId: 'riveCanvas3', stateMachine: 'State Machine 1' },
      { name: 'Reason02.riv', canvasId: 'riveCanvas4', stateMachine: 'State Machine 1' },
      // ... 나머지 Reason 시리즈 추가
      { name: 'Reason99.riv', canvasId: 'riveCanvas14', stateMachine: 'State Machine 1' },
    ];

    const app = Vue.createApp({
      data() {
        return {
          riveInstances: [],
        };
      },
      methods: {
        toggleState(rive, inputName) {
          const input = rive.find(input => input.name === inputName);
          if (input) {
            input.value = !input.value;
          }
        },
      },
      mounted() {
        riveFiles.forEach(file => {
          const riveInstance = new Rive({
            src: file.name,
            canvas: document.getElementById(file.canvasId),
            autoplay: true,
            stateMachines: file.stateMachine ? [file.stateMachine] : undefined,
            onLoad: (rive) => {
              if (file.stateMachine) {
                this.riveInstances.push(rive.stateMachineInputs(file.stateMachine));
              }
            },
          });
          this.riveInstances.push(riveInstance);
        });
      },
      template: `
        <div>
          <template v-for="file in riveFiles" :key="file.canvasId">
            <div class="rive-container">
              <h2>{{ file.name }}</h2>
              <canvas :id="file.canvasId" width="500" height="500"></canvas>
              <div class="controls">
                <template v-for="input in riveInstances[riveInstances.indexOf(file)]">
                  <label :for="input.name + file.canvasId">{{ input.name }}:</label>
                  <input type="checkbox" :id="input.name + file.canvasId" v-on:change="toggleState(riveInstances[riveInstances.indexOf(file)], input.name)">
                </template>
              </div>
            </div>
          </template>
        </div>
      `,
    });
    app.mount('#app');
  </script>
</body>
</html>
